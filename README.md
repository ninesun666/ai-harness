# AI Harness - iFlow CLI è‡ªåŠ¨åŒ–å¼€å‘æ¡†æ¶

ä¸€å¥—å®Œæ•´çš„ AI è¾…åŠ©å¼€å‘è‡ªåŠ¨åŒ–æ–¹æ¡ˆï¼Œè®© iFlow CLI èƒ½å¤ŸæŒç»­ã€è‡ªä¸»åœ°å®Œæˆè½¯ä»¶å¼€å‘ä»»åŠ¡ã€‚

---

## æ ¸å¿ƒç‰¹æ€§

- **è‡ªåŠ¨åŒ–æ‰§è¡Œ** - æ— éœ€äººå·¥å¹²é¢„ï¼ŒAI è‡ªåŠ¨å®Œæˆå¼€å‘ä»»åŠ¡
- **ä»»åŠ¡ç®¡ç†** - åŸºäº feature_list.json çš„ä»»åŠ¡æ¸…å•ç³»ç»Ÿ
- **è¿›åº¦è¿½è¸ª** - è¯¦ç»†çš„ä¼šè¯æ—¥å¿—å’Œè¿›åº¦è®°å½•
- **æ°¸ç»­è¿è¡Œ** - æ”¯æŒæŒç»­è¿è¡Œç›´åˆ°æ‰€æœ‰ä»»åŠ¡å®Œæˆ
- **å¤šé¡¹ç›®æ”¯æŒ** - å¯åŒæ—¶ç®¡ç†å¤šä¸ªé¡¹ç›®çš„å¼€å‘

---

## å¿«é€Ÿå¼€å§‹

### ç¬¬ä¸€æ­¥ï¼šåˆå§‹åŒ–é¡¹ç›®

**Windows:**
```
åŒå‡» init.bat
```

**Linux/macOS:**
```bash
python init_project.py
```

å¯åŠ¨åä¼šæ‰«æåŒçº§å’Œä¸Šçº§ç›®å½•ï¼Œæ˜¾ç¤ºå€™é€‰é¡¹ç›®åˆ—è¡¨ï¼š

```
============================================================
       AI Harness - Project Initializer
============================================================

[æ‰«æç›®å½•]
  ä» C:\Users\gjx\clawd æ‰«æ...

å€™é€‰é¡¹ç›®ç›®å½•:
------------------------------------------------------------
[å¾…åˆå§‹åŒ–]
  1. task-schedule [java-maven]
      ä¸Šçº§: task-schedule
  2. ninesun-blog [nodejs]
      åŒçº§: ninesun-blog
  3. ai-legion [nodejs]
      åŒçº§: ai-legion
------------------------------------------------------------
  0. è¾“å…¥è‡ªå®šä¹‰è·¯å¾„
  Q. é€€å‡º
------------------------------------------------------------

è¯·é€‰æ‹© [1-3/0/Q]: 
```

é€‰æ‹©é¡¹ç›®åä¼šè‡ªåŠ¨ï¼š
- æ£€æµ‹é¡¹ç›®ç±»å‹ (Java/Maven, Node.js, Python, Go, Rust)
- åˆ›å»º `.agent-harness/` ç›®å½•
- ç”Ÿæˆ `feature_list.json` ä»»åŠ¡æ¸…å•æ¨¡æ¿
- ç”Ÿæˆ `AGENT_INSTRUCTIONS.md` å·¥ä½œæµç¨‹è§„èŒƒ
- ç”Ÿæˆ `claude-progress.txt` è¿›åº¦æ—¥å¿—

### ç¬¬äºŒæ­¥ï¼šæ·»åŠ ä»»åŠ¡

ç¼–è¾‘é¡¹ç›®ä¸­çš„ `.agent-harness/feature_list.json`ï¼Œæ·»åŠ å¼€å‘ä»»åŠ¡ï¼š

```json
{
  "features": [
    {
      "id": "F001",
      "description": "å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½",
      "priority": "high",
      "steps": ["åˆ›å»ºç™»å½•é¡µé¢", "å®ç°è®¤è¯é€»è¾‘", "æ·»åŠ å•å…ƒæµ‹è¯•"],
      "passes": false
    }
  ]
}
```

### ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œè‡ªåŠ¨åŒ–

**Windows:**
```
åŒå‡» start.bat
```

**Linux/macOS:**
```bash
chmod +x start.sh
./start.sh
```

å¯åŠ¨åä¼šæ˜¾ç¤ºäº¤äº’å¼èœå•ï¼š
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           AI Harness - iFlow è‡ªåŠ¨åŒ–å¼€å‘å·¥å…·               â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  è®© AI è‡ªä¸»å®Œæˆè½¯ä»¶å¼€å‘ä»»åŠ¡                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… iFlow CLI: C:\nvm4w\nodejs\iflow.CMD

ğŸ“‹ å‘ç° 2 ä¸ªé¡¹ç›®:
   1. ai-legion (30/30)
   2. ninesun-blog (26/40)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ“ä½œèœå•:
  [1] æŸ¥çœ‹çŠ¶æ€      - æ˜¾ç¤ºé€‰ä¸­é¡¹ç›®çš„è¯¦ç»†ä¿¡æ¯
  [2] å•æ¬¡æ‰§è¡Œ      - æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ååœæ­¢
  [3] æŒç»­è¿è¡Œ      - è‡ªåŠ¨æ‰§è¡Œç›´åˆ°æ‰€æœ‰ä»»åŠ¡å®Œæˆ
  [4] åˆ›å»ºæ–°é¡¹ç›®    - åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„é¡¹ç›®ç»“æ„
  [Q] é€€å‡º
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

è¯·é€‰æ‹©æ“ä½œ [1-4/Q]:
```

### æ–¹å¼äºŒï¼šå‘½ä»¤è¡Œè¿è¡Œ

### 1. å®‰è£…ä¾èµ–

```bash
# éœ€è¦ Python 3.8+
python --version

# éœ€è¦ iFlow CLI
iflow --version
```

### 2. é…ç½®é¡¹ç›®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.agent-harness/` ç›®å½•ï¼š

```
your-project/
â””â”€â”€ .agent-harness/
    â”œâ”€â”€ feature_list.json      # ä»»åŠ¡æ¸…å•
    â”œâ”€â”€ claude-progress.txt    # è¿›åº¦æ—¥å¿—
    â””â”€â”€ AGENT_INSTRUCTIONS.md  # å·¥ä½œæµç¨‹è§„èŒƒï¼ˆå¯é€‰ï¼‰
```

### 3. åˆ›å»ºä»»åŠ¡æ¸…å•

```json
{
  "project_spec": "é¡¹ç›®æè¿°",
  "total_features": 10,
  "completed": 0,
  "pending": 10,
  "features": [
    {
      "id": "F001",
      "description": "åŠŸèƒ½æè¿°",
      "priority": "high",
      "steps": ["æ­¥éª¤1", "æ­¥éª¤2"],
      "passes": false,
      "dependencies": []
    }
  ]
}
```

### 4. è¿è¡Œ

```bash
# æ£€æŸ¥çŠ¶æ€
python iflow_runner.py --action status --project your-project

# å•æ¬¡æ‰§è¡Œ
python iflow_runner.py --action run --project your-project

# æŒç»­è¿è¡Œ
python iflow_runner.py --action continuous --project your-project
```

---

## ç›®å½•ç»“æ„

```
ai-harness/
â”œâ”€â”€ iflow_runner.py              # ä¸»è°ƒåº¦è„šæœ¬
â”œâ”€â”€ init_project.py              # é¡¹ç›®åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ init.bat                     # Windows åˆå§‹åŒ–å¯åŠ¨
â”œâ”€â”€ start.bat                    # Windows ä¸»ç¨‹åºå¯åŠ¨
â”œâ”€â”€ start.sh                     # Linux/macOS ä¸»ç¨‹åºå¯åŠ¨
â”œâ”€â”€ README.md                    # æœ¬æ–‡ä»¶
â”œâ”€â”€ templates/                   # æ¨¡æ¿æ–‡ä»¶
â”‚   â”œâ”€â”€ feature_list_template.json
â”‚   â””â”€â”€ AGENT_INSTRUCTIONS_template.md
â””â”€â”€ iflow_runner/
    â””â”€â”€ AGENT_HARNESS_GUIDE.md   # è¯¦ç»†ä½¿ç”¨æŒ‡å—
```

---

## æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

### iflow_runner.py

ä¸»è°ƒåº¦è„šæœ¬ï¼Œè´Ÿè´£ï¼š
- è¯»å–ä»»åŠ¡æ¸…å•
- è°ƒç”¨ iFlow CLI æ‰§è¡Œä»»åŠ¡
- è¿½è¸ªæ‰§è¡Œç»“æœ
- å¾ªç¯æ‰§è¡Œç›´åˆ°å®Œæˆ

### feature_list.json

ä»»åŠ¡æ¸…å•æ ¼å¼ï¼š

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | string | åŠŸèƒ½ID (F001, F002...) |
| description | string | åŠŸèƒ½æè¿° |
| priority | string | ä¼˜å…ˆçº§ (high/medium/low) |
| steps | array | å®ç°æ­¥éª¤ |
| passes | boolean | æ˜¯å¦é€šè¿‡æµ‹è¯• |
| dependencies | array | ä¾èµ–çš„åŠŸèƒ½ID |

### claude-progress.txt

è¿›åº¦æ—¥å¿—æ ¼å¼ï¼š

```
[Session N - Coding Agent] YYYY-MM-DD HH:MM
Feature: F001 - åŠŸèƒ½åç§°
Status: COMPLETED
Summary:
  - å®Œæˆçš„å·¥ä½œ
Files Modified:
  - file1.ts
Build: âœ… æˆåŠŸ
```

---

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: å•é¡¹ç›®å¼€å‘

```bash
# åˆå§‹åŒ–é¡¹ç›®
mkdir my-project/.agent-harness

# åˆ›å»º feature_list.jsonï¼ˆå‚è€ƒ templates/feature_list_template.jsonï¼‰

# è¿è¡Œ
python iflow_runner.py --action continuous --project my-project
```

### ç¤ºä¾‹ 2: å¤šé¡¹ç›®ç®¡ç†

```bash
# é¡¹ç›® A
python iflow_runner.py --action run --project project-a

# é¡¹ç›® B
python iflow_runner.py --action run --project project-b
```

---

## å‘½ä»¤å‚æ•°

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| --action | run/continuous/status | status |
| --project | é¡¹ç›®åç§° | ninesun-blog |
| --interval | æŒç»­æ¨¡å¼é—´éš”(ç§’) | 60 |
| --max-iterations | æœ€å¤§è¿­ä»£æ¬¡æ•° | 100 |

---

## å·¥ä½œåŸç†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   AI Harness                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  feature_list.json  â†’  iflow_runner.py  â†’  iFlow CLI   â”‚
â”‚         â†“                      â†“                  â†“     â”‚
â”‚    ä»»åŠ¡çŠ¶æ€ç®¡ç†          è°ƒåº¦æ‰§è¡Œ          AIç¼–ç æ‰§è¡Œ    â”‚
â”‚         â†“                      â†“                  â†“     â”‚
â”‚  claude-progress.txt â†â”€â”€ è®°å½•è¿›åº¦ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ³¨æ„äº‹é¡¹

1. **å¹¶å‘é™åˆ¶** - ä¸è¦åŒæ—¶åœ¨å¤šä¸ªä¼šè¯è¿è¡Œ
2. **ä»»åŠ¡ç²’åº¦** - æ¯ä¸ªä»»åŠ¡åº”è¯¥æ˜¯ç‹¬ç«‹å¯æµ‹è¯•çš„åŠŸèƒ½ç‚¹
3. **ä¾èµ–ç®¡ç†** - æ˜ç¡®æ ‡æ³¨ä»»åŠ¡ä¾èµ–å…³ç³»
4. **å®‰å…¨è€ƒè™‘** - --yolo æ¨¡å¼ä¼šè‡ªåŠ¨æ¥å—æ‰€æœ‰æ“ä½œ

---

## æ¨¡æ¿æ–‡ä»¶

### feature_list_template.json

```json
{
  "project_spec": "ä½ çš„é¡¹ç›®æè¿°",
  "created_at": "2026-02-16T00:00:00",
  "total_features": 0,
  "completed": 0,
  "pending": 0,
  "features": []
}
```

### AGENT_INSTRUCTIONS_template.md

```markdown
# Agent Instructions

## ä¼šè¯å¼€å§‹æµç¨‹
1. è¯»å–è¿›åº¦æ–‡ä»¶
2. æ£€æŸ¥ä»»åŠ¡çŠ¶æ€
3. å¼€å§‹å·¥ä½œ

## ä¼šè¯ç»“æŸæµç¨‹
1. æµ‹è¯•éªŒè¯
2. æ›´æ–°çŠ¶æ€
3. è®°å½•è¿›åº¦
```

---

## è®¸å¯è¯

MIT License

---

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

*Created by iFlow CLI Automation*
